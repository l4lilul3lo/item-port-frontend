"use strict";(self.webpackChunkitem_port_frontend=self.webpackChunkitem_port_frontend||[]).push([[796],{8796:function(e,n,a){a.r(n),a.d(n,{default:function(){return x}});var r=a(5861),s=a(4942),t=a(1413),i=a(8152),u=a(7757),c=a.n(u),l=a(2791),o=a(2570),m=a.n(o),p=a(1467),d=a(7090),f=a(6030),v=(a(324),a(6871)),h=a(577),g=a(6338),w=a(184),x=function(){var e=function(){(0,f.I0)();var e=(0,v.s0)(),n=(0,d.Y)();function a(){return(a=(0,r.Z)(c().mark((function a(r,s,t){return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.post("/register",{username:r,email:s,password:t});case 2:201===a.sent.status&&(e("/login"),h.Am.success("registration success"));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function s(){return(s=(0,r.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post("/checkUsernameExists",{username:a});case 2:return r=e.sent,e.next=5,r.data.message;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=(0,r.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post("/checkEmailExists",{email:a});case 2:return r=e.sent,e.next=5,r.data.message;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{checkUserNameExists:function(e){return s.apply(this,arguments)},checkEmailExists:function(e){return t.apply(this,arguments)},register:function(e,n,r){return a.apply(this,arguments)}}}(),n=(0,l.useState)({username:{value:"",isValid:!0,message:""},email:{value:"",isValid:!0,message:""},password:{value:"",isValid:!0,message:""},password2:{value:"",isValid:!0,message:""}}),a=(0,i.Z)(n,2),u=a[0],o=a[1],x=function(e,n){console.log(u.username.value),o((0,t.Z)((0,t.Z)({},u),{},(0,s.Z)({},e,{value:u[e].value,isValid:!1,message:n})))},b={username:function(){return A()},email:function(){return k()},password:function(){return V()},password2:function(){return Z()}},A=function(){var n=(0,r.Z)(c().mark((function n(){var a,r,s,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=u.username.value,r=u.username.isValid,s="username",!(a.length<3||a.length>15)){n.next=7;break}return"Username must be between 3 and 15 characters",x(s,"Username must be between 3 and 15 characters"),n.abrupt("return");case 7:if(a[0].match(/[a-z]/i)){n.next=11;break}return"Username must start with a letter",x(s,"Username must start with a letter"),n.abrupt("return");case 11:if(!a.match(/[^a-zA-Z0-9_]/)){n.next=15;break}return"Username can only contain letters, numbers, and underscores",x(s,"Username can only contain letters, numbers, and underscores"),n.abrupt("return");case 15:if(!a||!r){n.next=20;break}return n.next=18,e.checkUserNameExists(a);case 18:"Available"!==(t=n.sent)&&x(s,t);case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=function(){var n=(0,r.Z)(c().mark((function n(){var a,r,s,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=u.email.value,r=u.email.isValid,s="email",m().isEmail(a)){n.next=7;break}return"Please enter a valid email address",x(s,"Please enter a valid email address"),n.abrupt("return");case 7:if(!a||!r){n.next=12;break}return n.next=10,e.checkEmailExists(a);case 10:"Available"!==(t=n.sent)&&x(s,t);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),V=function(){var e=u.password.value;console.log(e),e.length<6&&o((0,t.Z)((0,t.Z)({},u),{},{password:{isValid:!1,message:"Password must be at least 6 characters in length",value:e}}))},Z=function(){var e=u.password.value,n=u.password2.value;console.log(e),console.log(n),e!==n&&o((0,t.Z)((0,t.Z)({},u),{},{password2:{isValid:!1,message:"Passwords do not match"}}))},y=function(){for(var e in u){var n=u[e],a=n.value,r=n.isValid;if(!a||!r)return!1}return!0},U=function(e){o((0,t.Z)((0,t.Z)({},u),{},(0,s.Z)({},e.target.name,{value:e.target.value,isValid:!0,message:""})))},j=function(e){e.target.value&&b[e.target.name]()},C=function(){var n=(0,r.Z)(c().mark((function n(a){var r,s,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),y()){n.next=3;break}return n.abrupt("return");case 3:r=u.username.value,s=u.email.value,t=u.password.value,{username:r,email:s,password:t};try{e.register(r,s,t)}catch(i){}case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,w.jsxs)("div",{id:"register-container",children:[(0,w.jsx)("img",{src:g}),(0,w.jsxs)("form",{id:"register-form",onSubmit:C,autoComplete:"off",children:[(0,w.jsx)("div",{className:"input-container",children:(0,w.jsx)("input",{type:"text",placeholder:"Username",name:"username",className:u.username.isValid?"input valid":"input invalid",onChange:function(e){return U(e)},onBlur:function(e){return j(e)}})}),(0,w.jsx)("div",{className:"message",children:u.username.message}),(0,w.jsxs)("div",{className:"input-container",children:[(0,w.jsx)("input",{type:"email",placeholder:"Email",name:"email",className:u.email.isValid?"input valid":"input invalid",onChange:function(e){return U(e)},onBlur:function(e){return j(e)}}),(0,w.jsx)("div",{className:"message",children:u.email.message})]}),(0,w.jsxs)("div",{className:"input-container",children:[(0,w.jsx)("input",{type:"password",placeholder:"Password",name:"password",className:u.password.isValid?"input valid":"input invalid",onChange:function(e){return U(e)},onBlur:function(e){return j(e)}}),(0,w.jsx)("div",{className:"message",children:u.password.message}),(0,w.jsx)(p.Z,{scoreWordStyle:{fontSize:"17px"},barColors:["#999999","#ef4836","#f6b44d","#2b90ef","#25c281"],minLength:6,password:u.password.value})]}),(0,w.jsxs)("div",{className:"input-container",children:[(0,w.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",className:u.password2.isValid?"input valid":"input invalid",onChange:function(e){return U(e)},onBlur:function(e){return j(e)}}),(0,w.jsx)("div",{className:"message",children:u.password2.message})]}),(0,w.jsx)("button",{type:"submit",id:"registerbtn",children:"Register"})]})]})}},6338:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABU0lEQVRYw+2UMa6CQBRFiYaGqBuwsbah1LgLCyoLl2KtnW6AQliKO7AwmtgYrSyMWphYnN+Mk48C4rzJT/zhlHPhXbjvguOUfAm4BMxZc+HCmjkBrs3xfTY8s6FvZ3iFMVmMqcgNJuQxkYfz4MaULjVqdJly0+eSoHB19jv8hOKz07swXzeBfnr/RfP1WwTmBpEaMUtVZ0qNzA1WakQnVe0odWVucFYj6qlqXalneUTDVHUoj6jBFoAr7RetzRWALQ1JUXvcAVjiJc49lgDc6Uk/tZEKIkychup0JP9VVFk8b0Knv6Bq43fX4vR7Ezr9Ey3HDgzUEy/xdPowcOyhCxvq9CPHJrqwD2TlzC2snXLmFtZGOXMLa6ecmYW1V86MwsrLSZOYA59yIKZZbPwRU44FLIiREL832IsM9u8NFB9vruh9pUHhC00pDUqD/2BQ8uf8AMim73eUkOwgAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=796.169f00df.chunk.js.map